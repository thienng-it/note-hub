{% extends "base.html" %}

{% block title %}{{ error }} ({{ code }}) - Beautiful Notes{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center p-4">
    <div class="max-w-lg w-full text-center">
        <!-- Error Icon -->
        <div class="mb-8">
            {% if code == 404 %}
                <i class="fas fa-search text-8xl text-gray-300 dark:text-gray-600 mb-4"></i>
            {% elif code == 403 %}
                <i class="fas fa-lock text-8xl text-red-400 mb-4"></i>
            {% elif code == 500 %}
                <i class="fas fa-exclamation-triangle text-8xl text-orange-400 mb-4"></i>
            {% elif code == 503 %}
                <i class="fas fa-server text-8xl text-blue-400 mb-4"></i>
            {% else %}
                <i class="fas fa-exclamation-circle text-8xl text-gray-400 mb-4"></i>
            {% endif %}
        </div>
        
        <!-- Error Message -->
        <div class="mb-8">
            <h1 class="text-6xl font-bold text-gray-800 dark:text-gray-200 mb-4">{{ code }}</h1>
            <h2 class="text-2xl font-semibold text-gray-700 dark:text-gray-300 mb-2">{{ error }}</h2>
            
            {% if code == 404 %}
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL.
                </p>
            {% elif code == 403 %}
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    You don't have permission to access this resource. Please check your credentials.
                </p>
            {% elif code == 500 %}
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    Something went wrong on our end. We're working to fix this issue. Please try again later.
                </p>
            {% elif code == 503 %}
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    The server is temporarily unavailable. This may be due to maintenance or the server waking up from idle mode (common with free-tier hosting). Please wait a moment and try again.
                </p>
            {% else %}
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    An unexpected error occurred. Please try again or contact support if the problem persists.
                </p>
            {% endif %}
        </div>
        
        <!-- Actions -->
        <div class="space-y-4">
            {% if current_user %}
                <a href="{{ url_for('index') }}" 
                   class="btn-primary inline-flex items-center px-6 py-3 rounded-lg text-lg font-medium">
                    <i class="fas fa-home mr-2"></i>Go to Notes
                </a>
            {% else %}
                <a href="{{ url_for('login') }}" 
                   class="btn-primary inline-flex items-center px-6 py-3 rounded-lg text-lg font-medium">
                    <i class="fas fa-sign-in-alt mr-2"></i>Login
                </a>
            {% endif %}
            
            <button onclick="window.history.back()" 
                    class="ml-4 inline-flex items-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 transition-colors">
                <i class="fas fa-arrow-left mr-2"></i>Go Back
            </button>
        </div>
        
        <!-- Additional Help -->
        <div class="mt-12 p-6 bg-gray-50 dark:bg-gray-800 rounded-xl">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3">Need Help?</h3>
            <div class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
                {% if code == 404 %}
                    <p>• Check the URL for typos</p>
                    <p>• Use the navigation menu to find what you need</p>
                    <p>• Search for specific notes using the search feature</p>
                {% elif code == 500 %}
                    <p>• Refresh the page and try again</p>
                    <p>• Clear your browser cache</p>
                    <p>• Contact support if the issue continues</p>
                {% elif code == 503 %}
                    <p>• Wait 30-60 seconds for the server to wake up</p>
                    <p>• Refresh the page to try reconnecting</p>
                    <p>• This is normal for free-tier hosting services</p>
                {% else %}
                    <p>• Try refreshing the page</p>
                    <p>• Check your internet connection</p>
                    <p>• Return to the homepage and start over</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
